## 客户端连接服务端访问远程

### 1. 配置设置(设置读取文件的相关信息)

```yml
# bootstrap.yml文件

# 系统级别的配置(比application.yml级别高)
spring:
  cloud:
    config:
      # 从gitee上读取的文件名(不要后缀)
      name: client
      # 使用读取的文件中的哪个环境
      profile: dev
      # 读取服务端的地址
      uri: http://localhost:3344
      # 从哪个分支上获取
      label: master
```

### 2. 启动类

```java
package com.ths.client;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
// 启动后访问的真实端口不是3355，而是远程文件中的8201
// http://localhost:8201/getConfig
public class ConfigClient_3355 {
  public static void main(String[] args) {
    SpringApplication.run(ConfigClient_3355.class, args);
  }
}
```

### 3. 测试接口

```java
package com.ths.client.controller;

import org.springframework.beans.factory.annotation.Value;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
public class GetConfigServer {
  @Value("${spring.application.name}")
  private String applicationName;
  @Value("${eureka.client.serviceUrl.defaultZone}")
  private String eurekaServer;
  @Value("${server.port}")
  private String port;

  @RequestMapping("/getConfig")
  public String getConfig() {
    return "applicationName: " + applicationName + "\n" +
        "eurekaServer: " + eurekaServer + "\n" +
        "port: " + port;
  }
}
```
