<!-- @format -->

## 将服务注册到注册中心

### 1. 导入依赖

```xml
<!--导入Eureka-->
<dependency>
  <groupId>org.springframework.cloud</groupId>
  <artifactId>spring-cloud-starter-eureka</artifactId>
  <version>1.4.6.RELEASE</version>
</dependency>
<!--添加监控信息-->
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-actuator</artifactId>
</dependency>
```

### 2. 编写配置文件

```yaml
server:
  port: 8001
# mybatis配置
mybatis:
  # 配置别名：实体类包名路径(api模块)
  type-aliases-package: com.ths.api.pojo
  # 配置mapper接口的位置(当前模块)
  mapper-locations: classpath:mybatis/mapper/*.xml
  # 配置全局配置文件(当前模块)
  config-location: classpath:mybatis/mybatis-config.xml
# spring配置
spring:
  application:
    name: project-provider-8001
  datasource:
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/db01?useUnicode=true
      &characterEncoding=utf-8&serverTimezone=UTC
    username: root
    password: 123456
# Eureka配置
eureka:
  client:
    serviceUrl:
      # 将本服务注册到哪个注册中心
      defaultZone: http://localhost:7001/eureka/
  # 修改服务在注册中心的名字
  instance:
    instance-id: project-provider-8001
# 配置监控信息(访问地址: http://localhost:8001/actuator/info)
info:
  app.name: project-provider-8001
  app.description: project-provider-8001
  company.name: ths
```

### 3. 开启这个功能(@EnableXXX)

```java
package com.ths.provider;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.cloud.netflix.eureka.EnableEurekaClient;

@SpringBootApplication
// 启用Eureka客户端,自动将本服务注册到Eureka中
@EnableEurekaClient
public class Provider_8001 {
  public static void main(String[] args) {
    SpringApplication.run(Provider_8001.class, args);
  }
}
```
