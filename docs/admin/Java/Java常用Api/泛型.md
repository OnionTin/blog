## 泛型

什么是泛型？

有泛型的地方就要指定参数类型了，不指定默认就是 Object 类。

泛型的定义格式？

> `<E>`
>
> `<E,M>`

泛型的作用？

1. 避免了强制类型转换

2. 限制了集合中元素的数据类型

### 泛型的基本使用

```java
package com.wuziqi.gobang.controller;

import java.util.ArrayList;
import java.util.Iterator;

public class DemoFx {
    public static void main(String[] args) {
        // 限定为String类型
        ArrayList<String> al = new ArrayList<String>();

        // ArrayList al = new ArrayList();
        al.add("1");
        al.add("2");
        al.add("3");
        // 如果是String类型，这里会编译报错；取消泛型则可以添加4了
        // al.add(4);

        /*
        如果不限制类型，foreach要用Object类型
        for (Object al1 : al){
            System.out.println(al1);
        }
        **/
        for (String al1 : al){
            System.out.println(al1); // 1 2 3
        }

        /*
        不限制类型写法
        Iterator al1 = al.iterator();
        while (al1.hasNext()) {
            System.out.println(al1.next());
        }**/
        Iterator<String> al1 = al.iterator();
        while (al1.hasNext()) {
            System.out.println(al1.next()); // 1 2 3
        }
    }
}
```

### 泛型的注意事项

1. 泛型里泛型写<font color=red>引用类型</font>，写基本类型会报错

2. 前面的<>和后面的<>要匹配

3. 在 jdk 新特性中，后面的<>可以省略不写或不添
   > `ArrayList<String> al = new ArrayList<String>()`
   >
   > `ArrayList<String> al = new ArrayList<>()`
   >
   > `ArrayList<String> al = new ArrayList()`

### 自定义泛型

#### 自定义泛型类

```java
package com.wuziqi.gobang.controller;

import java.util.ArrayList;
import java.util.Iterator;

public class DemoFx {
    public static void main(String[] args) {
        Ppt<String> p1 = new Ppt<String>();
        p1.print("aaa");
        // p1.print(1); // 加上泛型会编译报错
    }
}

// 自定义泛型类
class Ppt<E>{
    public void print(E e){
        System.out.println(e);
    }
}

// 常规类写法
//class Ppt{
//    public void print(Object o){
//        System.out.println(o);
//    }
//}
```

#### 自定义泛型方法

```java
package com.wuziqi.gobang.controller;

import java.util.ArrayList;
import java.util.Iterator;

public class DemoFx {
    public static void main(String[] args) {
        Fxff f1 = new Fxff();
        f1.print("aaa");
        f1.print(111);
    }
}
// 自定义泛型方法
class Fxff{
    public <T> void print(T t){
        System.out.println(t);
    }
}

// 常规方法写法
//class Fxff{
//    public void print(Object o){
//        System.out.println(o);
//    }
//}
```

#### 自定义泛型接口

```java
package com.wuziqi.gobang.controller;

import java.util.ArrayList;
import java.util.Iterator;

public class DemoFx {
    public static void main(String[] args) {
        Fu<String> fu = new Zi<String>();
        fu.print("aaa");
        // fu.print(111); // 加上泛型会编译报错
    }
}
// 自定义泛型接口
interface Fu<T>{
    public abstract void print(T t);
}
class Zi<E> implements Fu<E>{
    public void print(E e){
        System.out.println(e);
    }
}
```

### 泛型的通配符

```java
// ?
List<?> al01 = new ArrayList<String>();
List<?> al02 = new ArrayList<Integer>();
List<?> al03 = new ArrayList<Number>();

// ? extends E ：泛型上限
List<? extends Number> al001 = new ArrayList<Number>();
List<? extends Number> al002 = new ArrayList<Integer>();
List<? extends Number> al003 = new ArrayList<Float>();
List<? extends Number> al004 = new ArrayList<String>(); // 编译报错
List<? extends Number> al005 = new ArrayList<Object>(); // 上限Number，编译报错

// ? super T ：泛型下限
List<? super Number> al006 = new ArrayList<Number>();
List<? super Number> al007 = new ArrayList<Object>();
List<? super Number> al008 = new ArrayList<Float>(); // 下限Number，编译报错
List<? super Number> al009 = new ArrayList<String>();// 编译报错
```

### 泛型综合

```java
package com.wuziqi.gobang.controller;

import com.sun.org.apache.xerces.internal.xs.datatypes.ObjectList;

import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;

public class DemoFx {
    public static void main(String[] args) {
        ArrayList<String> al = new ArrayList<String>();
        // ArrayList al = new ArrayList();
        al.add("1");
        al.add("2");
        al.add("3");
        // al.add(4);

        /*
        for (Object al1 : al){
            System.out.println(al1);
        }
        **/
        for (String al1 : al){
            System.out.println(al1); // 1 2 3
        }

        /*
        Iterator al1 = al.iterator();
        while (al1.hasNext()) {
            System.out.println(al1.next());
        }**/
        Iterator<String> al1 = al.iterator();
        while (al1.hasNext()) {
            System.out.println(al1.next()); // 1 2 3
        }

        Ppt<String> p1 = new Ppt<String>();
        p1.print("aaa");
        // p1.print(1); // 加上泛型会编译报错

        Fxff f1 = new Fxff();
        f1.print("aaa");
        f1.print(111);

        Fu<String> fu = new Zi<String>();
        fu.print("aaa");
        // fu.print(111); // 加上泛型会编译报错

        // 通配符
        // ?
        List<?> al01 = new ArrayList<String>();
        List<?> al02 = new ArrayList<Integer>();
        List<?> al03 = new ArrayList<Number>();

        // 通配符
        // ? extends E ：泛型上限
        List<? extends Number> al001 = new ArrayList<Number>();
        List<? extends Number> al002 = new ArrayList<Integer>();
        List<? extends Number> al003 = new ArrayList<Float>();
        // List<? extends Number> al004 = new ArrayList<String>(); // 编译报错
        // List<? extends Number> al005 = new ArrayList<Object>(); // 上限Number

        // 通配符
        // ? super T ：泛型下限
        List<? super Number> al006 = new ArrayList<Number>();
        List<? super Number> al007 = new ArrayList<Object>();
        // List<? super Number> al008 = new ArrayList<Float>(); // 下限Number
        // List<? super Number> al009 = new ArrayList<String>();// 编译报错

        ArrayList<Number> al0 = new ArrayList<Number>();
        ListTool.print(al0);
    }
}

// 自定义泛型类
class Ppt<E>{
    public void print(E e){
        System.out.println(e);
    }
}

// 常规类写法
//class Ppt{
//    public void print(Object o){
//        System.out.println(o);
//    }
//}

// 自定义泛型方法
class Fxff{
    public <T> void print(T t){
        System.out.println(t);
    }
}

// 常规方法写法
//class Fxff{
//    public void print(Object o){
//        System.out.println(o);
//    }
//}

// 自定义泛型接口
interface Fu<T>{
    public abstract void print(T t);
}
class Zi<E> implements Fu<E>{
    public void print(E e){
        System.out.println(e);
    }
}

class ListTool{
    // List<? extends Number> = al0 = new ArrayList<Number>;
    public static void print(List<? extends Number> l){
        System.out.println(l);
    }
}
```
