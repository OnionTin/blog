## 索引

索引？

Mysql 数据库，高效获取数据的一种数据结构

索引是数据库管理系统中一个排序的数据结构，以协助高效查询、更新数据库表中数据。

主键和外键自带索引，其他索引需要手动创建

### 索引的分类

1. 功能分类

- 普通索引
- 主键索引
- 外键索引
- 联合索引
- 全文索引
- 唯一索引

2. 结构分类

- BTree 索引：底层 B + Tree 树结构
- Hash 索引：底层哈希表结构

### 索引的优点

- 提高数据检索的效率，降低数据库的 IO 成本
- 通过索引列对数据进行排序，降低数据排序的成本，降低 CPU 的消耗

### 索引的缺点

- 实际上索引也是一张表，该表保存了主键与索引字段，并指向实体表的记录，所以索引列也是要占用空间的
- 虽然索引大大提高了查询速度，同时却会降低更新表的速度，如对表进行 INSERT、UPDATE 和 DELETE。因为更新表时，MySQL 不仅要保存数据，还要保存一下索引文件每次对表进行增删改，都会调整因为增删改而产生的碎片，碎片到达一定程度时，会降低效率，解决方法就是定期对表进行 optimize 操作

### 索引的查询

```sql
-- 格式
show index from 表名;

show index from user;
```

### 给某个字段添加索引

```sql
-- 比如某个查询比较频繁，还想要高效一些
-- 格式
create index 索引名称 on 表名(列名);

create index index_name onb user(name);
```

### 删除索引

```sql
-- 格式
drop index 索引名称 on 表名;

drop index index_name on user;
```
