## MyBatis 单表查询

<RouteLink to="/admin/Java/Java进阶/MyBatis/MyBatis的CRUD">MyBatis 的 CRUD 详细案例</RouteLink>

```java
// Doc
// 查询全部
public List<User> findAll();
// 查询单条
public User findById1(int id);
// 根据id查询记录
public User findById2(Person p);
// 查询总数
public int count();
// 模糊查询1
public List<User> findByName1(String name);
// 模糊查询2
public List<User> findByName2(String name);
// 分页查询1
public List<User> findByPage1(Map<String, Integer> map);
// 分页查询2：注解可以放在形参上
public List<User> findByPage2(@Param("start") int aaa, @Param("size") int bbb);
// 根据条件查询(多个条件，且每个条件都是可有可无)
List<User> findByCondition(User user);
// 根据多个id值进行查询
List <User> findByIds(int [] ids);
```

```xml
<select id="findAll" resultType="com.api.MyBatis.domain.User">
  select * from user
</select>

<select
  id="findById1"
  resultType="com.api.MyBatis.domain.User"
  parameterType="Integer"
>
  select * from user where id = #{id}
</select>
<select
  id="findById2"
  parameterType="com.api.MyBatis.test.Person"
  resultType="com.api.MyBatis.domain.User"
>
  select * from user where id = #{user.id}
</select>
<select id="count" resultType="int">
  select count(*) from user
</select>
<select
  id="findByName1"
  parameterType="string"
  resultType="com.api.MyBatis.domain.User"
>
  select * from user where name like #{name}
</select>
<select
  id="findByName2"
  parameterType="string"
  resultType="com.api.MyBatis.domain.User"
>
  select * from user where name like '%${value}%'
</select>
<select
  id="findByPage1"
  parameterType="map"
  resultType="com.api.MyBatis.domain.User"
>
  select * from user limit #{start},#{size}
</select>
<select id="findByPage2" resultType="com.api.MyBatis.domain.User">
  select * from user limit #{start},#{size}
</select>
<!--sql动态判断：where和id的使用-->
<select id="findByCondition" parameterType="user" resultType="user">
  select * from user
  <where>
    <if test="name != null">
      and name like #{name}
    </if>
    <if test="age != null &amp;&amp; age != 0">
      and age = #{age}
    </if>
  </where>
</select>
<!--sql动态判断：forEach的使用-->
<select id="findByIds" parameterType="int[]" resultType="user">
  select * from user where id in
  <foreach collection="array" open="(" close=")" separator="," item="id">
    #{id}
  </foreach>
</select>
```
