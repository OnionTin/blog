## 子查询

嵌套查询：查询语句里边还有查询语句；里边的查询语句称为子查询。

1. 子查询结果为一条记录

```sql
-- 案例：查询 a 表中 id 值等于 b 表中名字为 Tony 的记录的 id

select * from a where id XXX;
select * from b where name = 'Tony';

-- 子查询
select id from a where id = (select id from b where name = 'Tony');

-- 结果：
-- +----+------+
-- | id | name |
-- +----+------+
-- |  1 | Tony    |
-- +----+------+
```

2. 子查询结果为多个记录

```sql
-- 案例：查询 a 表中 id 值等于 b 表中姓名为 Tony、Jerry 的记录的id

select * from a where id in XXX;
select * from b where name = 'Tony' or name = 'Jerry';

-- 子查询
select id from a where id in (select id from b where name = 'Tony' or name = 'Jerry');

-- 结果：
-- +----+------+
-- | id | name |
-- +----+------+
-- |  1 | Tony    |
-- |  2 | Jerry    |
-- +----+------+

```

3. 子查询结果为一张表

```sql
-- 案例：查询 a 表中的记录信息，要求：用子查询实现按照 id 降序排列

-- 子查询方式1
select * from XXX;
select * from a order by id desc;
select * from (select * from a order by id desc) newA;

-- 子查询方式2
select * from a where id in XXX;
select * from a order by id desc;
select * from a where id in (select id from a order by id desc);

-- 结果：
-- +----+------+
-- | id | name |
-- +----+------+
-- |  5 | Tony    |
-- |  4 | Jerry    |
-- |  3 | Tom      |
-- |  2 | Jerry    |
-- |  1 | Tony    |
```
