## Http 概述.md

> 超文本传输协议(HyperText Transfer Protocol)
>
> 超文本：超级文本，不是一般的文本
>
> 传输协议：定义客户端和服务器端通信时，数据传输的格式

### Http 协议的特点

1. 基于 TCP/IP 的高级协议
2. 默认端口号 80(一般网站把服务器端口设置成 80，所以访问的时候一般都不带端口号)
3. 基于请求/响应模型的，一次请求对应一次响应
4. 无状态的协议，在两个请求和响应之间，互相不干涉不影响

### Http 请求消息格式

1. 请求行(请求方式 + 请求 URI + 请求协议/版本)

   > 请求方式(GET、POST、PUT、DELETE、HEAD、OPTIONS、TRACE 一共 7 种)
   >
   > GET：
   >
   > 1. 请求参数在地址栏上显示，实际参数在请求行中
   > 2. 请求的 URL 地址长度有限制
   > 3. 不太安全
   >
   > POST：
   >
   > 1. 请求参数在请求体中
   > 2. 请求的 URL 地址长度没有限制
   > 3. 相对安全

   > URI：统一资源标识符(格式：虚拟目录 + 资源名称/资源的虚拟路径)
   >
   > URL：统一资源定位符(格式：协议 + Ip + 端口 + 虚拟目录 + 资源名称/资源的虚拟路径)

   > 协议版本：
   >
   > HTTP/1.0：
   >
   > 1. 请求和响应的 header 和 body 都是明文
   > 2. 请求和响应的 header 和 body 都是不安全的
   > 3. 一次连接(tcp 连接)，只能有一次请求和一次响应，响应后会断开连接(tcp 连接：搭桥)
   >
   > HTTP/1.1：
   >
   > 1. 请求和响应的 header 是明文，body 是加密的
   > 2. 请求和响应的 header 和 body 都是不安全的
   > 3. 一次连接，可以有多次请求和响应，直到浏览器或服务器有一个断开、或者超时才会断开连接
   >
   > HTTP/2.0：
   >
   > 1. 请求和响应的 header 是明文，body 是加密的
   > 2. 请求和响应的 header 和 body 都是安全的

2. 请求头

> 请求头都是 key: value 格式，其中 value 的值如果有多个，不要空格用逗号连接

| 请求头         | 说明                                                                                   |
| -------------- | -------------------------------------------------------------------------------------- |
| Accept         | 浏览器可以接收的 MIME 数据类型                                                         |
| Connection     | 表示是否需要持续链接                                                                   |
| Content-Length | 请求体的长度(get 没有，因为 get 没有请求体)                                            |
| Referer        | 告诉服务器是从哪个页面跳转过来的，从浏览器中直接输入的是不会有的。一般做统计和防盗链。 |
| User-Agent     | 告诉服务器访问的浏览器类型，当返回的数据和浏览器类型有关的时候这个属性非常有用。       |
| Cookie         | 浏览器发送的 Cookie                                                                    |

> MIME: 大类型/子类型
>
> 比如：text/html,text/css,text/javascript,image/jpeg,image/png,image/gif...都是 MIME 类型

3. 请求空行

4. 请求体

### Http 响应消息格式

1. 响应行(协议/版本 + 状态码)

> 状态码：1. 消息 2. 成功 3. 重定向(302：真正的重定向，304：资源未修改，缓存中获取) 4. 请求错误(404：没找到资源，405：请求方法错误，或者没写 doGet、doPost 方法) 5. 服务器错误(500：bug 等，503：服务器维护中)

2. 响应头

> 响应头都是 key: value 格式，其中 value 的值如果有多个，不要空格用逗号连接

| 响应头       | 说明                                                                   |
| ------------ | ---------------------------------------------------------------------- |
| Content-Type | 告诉浏览器响应回来的 MIME 数据类型；以及让浏览器用什么编码方式进行解析 |
| Location     | 服务器告诉浏览器，接下来去哪里，在重定向中需要使用                     |

> MIME: 大类型/子类型
>
> 比如：text/html,text/css,text/javascript,image/jpeg,image/png,image/gif...都是 MIME 类型；
>
> 一个标准的响应头格式：Content-Type: text/html;charset=utf-8(告诉浏览器 MIME 数据类型和解析的编码方式)

3. 响应空行

4. 响应体
