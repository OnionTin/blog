<!-- @format -->

## 函数组件

> 函数组件是 React 16.8 版本引入 Hooks API 后的主要编程范式

### 1. 定义函数组件

> 函数组件是一个使用 JavaScript 函数定义的 React 组件。它接收一个 props 参数，并返回一个 React 元素。

```jsx
const MyComponent = (props) => {
  return <div>{props.message}</div>;
};
```

### 2. 使用 Props

> 函数组件可以通过 props 接收父组件传递的数据，并在组件内部使用。也可以通过解构赋值的方式从 props 中获取数据。

```jsx
const MyComponent = ({ message }) => {
  return <div>{message}</div>;
};
```

### 3. 使用 Hooks

> Hooks 是 React 16.8 版本引入的新特性，它允许你在函数组件内部使用状态和其他 React 特性。

### 4. 性能优化

> 函数组件默认是记忆化的，但可以通过 React.memo 进行进一步优化。

```jsx
const MyComponent = React.memo(function MyComponent(props) {
  // 仅当 props 发生变化时才重新渲染
});
```

### 5. 错误处理

> 函数组件可以使用 try/catch 语句来捕获和处理错误。也可以使用 Error Boundaries 来捕获函数组件中的错误。

```jsx
class ErrorBoundary extends React.Component {
  constructor(props) {
    super(props);
    this.state = { hasError: false };
  }

  static getDerivedStateFromError(error) {
    return { hasError: true };
  }

  componentDidCatch(error, errorInfo) {
    // 你同样可以将错误日志上报给服务器
    console.log(error, errorInfo);
  }

  render() {
    if (this.state.hasError) {
      // 你可以渲染任何自定义的退路 UI
      return <h1>Something went wrong.</h1>;
    }

    return this.props.children;
  }
}
```

### 6. 条件渲染

> 在函数组件中，你可以使用 JavaScript 的逻辑来实现条件渲染。例如，你可以使用 if 语句或三元运算符来根据条件渲染不同的元素。

```jsx
const MyComponent = ({ isLoading, data }) => {
  if (isLoading) {
    return <div>Loading...</div>;
  }

  if (!data) {
    return <div>No data available</div>;
  }

  return <div>{data}</div>;
};
```

### 7.列表渲染

```jsx
const MyComponent = ({ items }) => {
  return (
    <ul>
      {items.map((item) => (
        <li key={item.id}>{item.text}</li>
      ))}
    </ul>
  );
};
```

### 8. Fragment 和高阶组件

> 使用 Fragment 来分组元素，而不添加额外的 DOM 节点。

```jsx
import React, { Fragment } from 'react';

const MyComponent = () => {
  return (
    <Fragment>
      <ChildA />
      <ChildB />
    </Fragment>
  );
};
```
