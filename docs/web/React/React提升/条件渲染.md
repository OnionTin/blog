<!-- @format -->

## 条件渲染

条件渲染是 React 中根据条件来控制元素是否显示或显示什么内容的机制。

### 1. 基本条件渲染

使用 JavaScript 的`if`语句或三元运算符`? :`来实现条件渲染。

```jsx
function MyComponent({ isLoggedIn }) {
  return <div>{isLoggedIn ? <Dashboard /> : <Login />}</div>;
}
```

### 2. Inline If

在 JSX 中，你可以在返回语句中直接使用花括号`{}`包裹的表达式来实现条件渲染。

```jsx
function MyComponent({ isLoggedIn }) {
  return <div>{isLoggedIn && <Dashboard />}</div>;
}
```

### 3. 三元运算符

三元运算符可以用来在两个元素之间进行选择性渲染。

```jsx
function MyComponent({ isLoggedIn }) {
  return <div>{isLoggedIn ? <Dashboard /> : <Login />}</div>;
}
```

### 4. 逻辑与(&&)

逻辑与操作符可以用来在数组中进行条件渲染，如果条件为真，则元素将被渲染。

```jsx
function MyComponent({ items }) {
  return (
    <ul>
      {items.map(
        (item) => item.isVisible && <li key={item.id}>{item.text}</li>
      )}
    </ul>
  );
}
```

### 5. 条件列表渲染

在渲染列表时，可以根据条件来决定是否渲染列表中的某些元素。

```jsx
function ItemList({ items }) {
  return (
    <ul>
      {items
        .filter((item) => item.isVisible)
        .map((item) => (
          <li key={item.id}>{item.text}</li>
        ))}
    </ul>
  );
}
```

### 6. 使用状态进行条件渲染

使用状态来控制组件的显示或隐藏。

```jsx
function MyComponent() {
  const [isVisible, setIsVisible] = useState(false);

  function toggleVisibility() {
    setIsVisible(!isVisible);
  }

  return (
    <div>
      {isVisible && <div>Now you see me!</div>}
      <button onClick={toggleVisibility}>{isVisible ? 'Hide' : 'Show'}</button>
    </div>
  );
}
```

### 7. 使用 props 进行条件渲染

根据传入的 props 来决定是否渲染某个元素。

```jsx
function Greeting({ salutation }) {
  return (
    <div>
      {salutation && <h1>{salutation}</h1>}
      <p>Hello, user!</p>
    </div>
  );
}
```

### 8. 阻止组件渲染

使用`null`来阻止组件渲染任何内容。

```jsx
function MyComponent({ content }) {
  return content ? <div>{content}</div> : null;
}
```

### 9. Fragment

使用`React.Fragment`来包装条件渲染的元素组，避免添加额外的 DOM 元素。

```jsx
import { Fragment } from 'react';

function MyComponent({ user }) {
  return (
    <Fragment>
      {user.isLoggedIn && <Dashboard />}
      <Login />
    </Fragment>
  );
}
```

### 10. 条件渲染的组合

可以将多种条件渲染技术组合使用，以实现复杂的渲染逻辑。

### 11. 使用`useEffect`进行条件渲染

在`useEffect`中使用条件语句来根据状态或 props 的变化执行副作用。

```jsx
import { useEffect } from 'react';

function MyComponent({ user }) {
  useEffect(() => {
    if (user.isLoggedIn) {
      // Do something
    }
  }, [user.isLoggedIn]);

  return <div />;
}
```

### 12. 性能考虑

条件渲染时要注意性能，避免在渲染过程中进行高开销的计算。
