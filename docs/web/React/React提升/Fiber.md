<!-- @format -->

## React Fiber

React Fiber 是一个重写的 JavaScript 协调引擎，它是 React 核心库的一部分，用于改善 React 应用程序的性能和响应速度。

### 1. 异步渲染能力

Fiber 使得 React 能够将渲染工作分割成小的片段，允许 React 在渲染过程中暂停、终止或重用工作，从而实现更高效的更新和更好的用户体验。

### 2. 重写的目的

React Fiber 是为了解决大型应用的性能问题，特别是在移动设备上的性能问题。它允许 React 在渲染过程中优先处理高优先级的任务，从而提高应用的响应性。

### 3. 工作单元

在 Fiber 架构中，每个 React 组件都是一个工作单元，称为 Fiber 节点。这些节点包含了组件的类型、状态、上下文等信息。

### 4. 任务的优先级

Fiber 引入了任务优先级的概念，可以根据任务的紧急程度来决定任务的处理顺序。这使得 React 可以在用户交互过程中优先处理动画和输入响应等高优先级的任务。

### 5. 时间分片

Fiber 可以在不同的时间点进行工作分片，这意味着 React 可以在不影响用户操作的情况下，利用空闲时间进行渲染。

### 6. 暂停和终止

Fiber 允许 React 暂停一个组件的渲染过程，并在适当的时候恢复。这有助于提高性能，特别是在处理复杂的组件树时。

### 7. 重用工作

Fiber 可以重用已经完成的工作，而不是每次都从头开始。这减少了不必要的计算和渲染，提高了渲染效率。

### 8. 与 Concurrent 特性的结合

Fiber 是实现 React Concurrent 特性的基础，它允许 React 在渲染过程中进行任务的并发处理。

### 9. 浏览器兼容性

Fiber 在设计时考虑了跨浏览器的兼容性，确保了在不同浏览器上的一致性。

### 10. 与 Hooks 的兼容性

Fiber 完全兼容 React Hooks，使得状态管理和副作用的处理更加简洁和高效。

### 11. 性能调试

Fiber 提供了更好的性能调试工具，如 React Developer Tools 中的 Profiler，可以帮助开发者分析和优化应用的性能。

### 12. 代码分割和懒加载

Fiber 与 React 的代码分割和懒加载特性（如`React.lazy`和`Suspense`）紧密集成，使得可以按需加载代码，进一步优化应用的加载时间和性能。
