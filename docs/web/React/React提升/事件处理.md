<!-- @format -->

## 事件处理

React 中的事件处理与原生 JavaScript 事件处理有所不同，它使用合成事件系统。

### 1. 事件命名

React 事件通常使用小写字母命名，即使用驼峰命名法（camelCase），而不是全部小写。

```jsx
<button onClick={handleClick}>Click me</button>
```

### 2. 处理函数

事件处理函数通常在组件内部定义，并在渲染方法中通过 props 传递给元素。

```jsx
function MyComponent() {
  function handleClick() {
    console.log('Button clicked');
  }
  return <button onClick={handleClick}>Click me</button>;
}
```

### 3. 传递参数

可以在事件处理函数中传递参数，这些参数将在事件发生时传递。

```jsx
function MyComponent() {
  function handleClick(value) {
    console.log(`Button clicked with value: ${value}`);
  }
  return <button onClick={() => handleClick('test')}>Click me</button>;
}
```

### 4. 事件对象

事件处理函数接收一个事件对象作为参数，该对象包含有关事件的详细信息。

```jsx
function MyComponent() {
  function handleClick(event) {
    console.log(`Clicked button with id: ${event.target.id}`);
  }
  return (
    <button
      id="myButton"
      onClick={handleClick}>
      Click me
    </button>
  );
}
```

### 5. 默认行为

可以通过调用事件对象的`preventDefault`方法来阻止元素的默认行为。

```jsx
function MyComponent() {
  function handleSubmit(event) {
    event.preventDefault();
    console.log('Form submitted');
  }
  return <form onSubmit={handleSubmit}>...</form>;
}
```

### 6. 事件传播

可以通过调用事件对象的`stopPropagation`方法来阻止事件冒泡。

```jsx
function MyComponent() {
  function handleClick(event) {
    event.stopPropagation();
    console.log('Clicked');
  }
  return <div onClick={handleClick}>Click me</div>;
}
```

### 7. 事件监听

在类组件中，事件处理函数通常在`componentDidMount`中绑定，在`componentWillUnmount`中移除。

### 8. 箭头函数

在函数组件中，通常使用箭头函数来定义事件处理函数，以避免绑定函数的`this`。

### 9. 内联函数

React 推荐使用内联函数来处理事件，因为它们可以访问组件的状态和 props。

### 10. 事件池

React 使用事件池模式，这意味着事件对象在事件处理之后会被回收。不要在事件处理函数之外使用事件对象。

### 11. 键盘事件

处理键盘事件时，可以使用事件对象的`key`属性来获取被按下的键。

```jsx
function MyComponent() {
  function handleKeyPress(event) {
    if (event.key === 'Enter') {
      console.log('Enter key pressed');
    }
  }
  return <input onKeyDown={handleKeyPress} />;
}
```

### 12. 鼠标事件

处理鼠标事件时，可以使用事件对象的`button`、`buttons`、`clientX`、`clientY`等属性。

### 13. 触摸事件

处理触摸事件时，可以使用事件对象的`touches`、`targetTouches`、`changedTouches`等属性。

### 14. 焦点事件

处理焦点事件时，如`focus`、`blur`，可以使用事件对象的`target`属性来获取焦点的元素。

### 15. 综合事件处理

可以使用`useEffect`与事件处理函数结合，来监听和清理事件。

```jsx
import { useEffect } from 'react';

function MyComponent() {
  useEffect(() => {
    window.addEventListener('resize', handleResize);
    return () => window.removeEventListener('resize', handleResize);
  }, []);

  function handleResize() {
    console.log('Window resized');
  }
}
```
