## 交叉类型(&)

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
// C = { name: string; age: number; }
```

### 使用场景

> 1. 扩展接口：当你想要为接口添加额外的属性或方法时，交叉类型可以帮助你模块化和重用代码。
>
> 2. 组合函数签名：你可以使用交叉类型来组合多个函数签名，这样函数可以接受不同的参数或者返回多个类型。
>
> 3. 实现混入（Mixins）：在 TypeScript 中，混入是一种设计模式，它允许将多个类的功能组合到一个类中。交叉类型是实现混入的一种方式。
>
> 4. 增强对象类型：当你需要确保一个变量满足多个类型的所有属性时，交叉类型非常有用。

### 交叉类型与联合类型

```ts
type A = { name: string };
type B = { age: number };
type C = A | B;
// C = { name: string; } | { age: number; }
const c1: C = { name: "张三" };
const c2: C = { age: 18 };
```

### 交叉类型与接口

```ts
interface A {
  name: string;
}
interface B {
  age: number;
}
interface C extends A, B {
  // C = { name: string; age: number; }
}
```

### 交叉类型与函数

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
const c: C = { name: "张三", age: 18 };
const fn = (a: A, b: B): C => {
  return { ...a, ...b };
};
const result = fn({ name: "张三" }, { age: 18 });
console.log(result);
```

### 交叉类型与类

```ts
class A {
  name: string;
  constructor(name: string) {
    this.name = name;
  }
}
class B {
  age: number;
  constructor(age: number) {
    this.age = age;
  }
}
class C extends A, B {
  constructor(name: string, age: number) {
    super(name);
    super(age);
  }
}
const c = new C('张三', 18);
console.log(c);
```

### 交叉类型与枚举

```ts
enum A {
  a = 1,
  b = 2,
}
enum B {
  c = 3,
  d = 4,
}
enum C {
  e = 5,
  f = 6,
}
type D = A & B & C;
// D = { a: 1; b: 2; c: 3; d: 4; e: 5; f: 6; }
```

### 交叉类型与类型别名

```ts
type A = { name: string }; // A = { name: string; }
type B = { age: number }; // B = { age: number; }
type C = A & B; // C = { name: string; age: number; }
```

### 交叉类型与泛型

```ts
type A<T> = T & { name: string }; // A = <T>(T & { name: string; })
const a: A<number> = { name: "张三", age: 18 };
```

### 交叉类型与类型断言

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
const c: C = { name: "张三", age: 18 };
const d = c as A;
console.log(d);
```

### 交叉类型与类型守卫

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
const c: C = { name: "张三", age: 18 };
if (c.name) {
  console.log(c.name);
}
if (c.age) {
  console.log(c.age);
}
```

### 交叉类型与类型推断

```ts
type A = { name: string };
type B = { age: number };
type C = A & B; // C = { name: string; age: number; }
const c: C = { name: "张三", age: 18 };
const d = c.name;
console.log(d);
```

### 交叉类型与类型检查

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
const c: C = { name: "张三", age: 18 };
if (typeof c.name === "string") {
  console.log(c.name);
}
if (typeof c.age === "number") {
  console.log(c.age);
}
```

### 交叉类型与类型转换

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
const c: C = { name: "张三", age: 18 };
const d = c as A;
console.log(d);
```

### 交叉类型与类型合并

```ts
type A = { name: string };
type B = { age: number };
type C = A & B;
const c: C = { name: "张三", age: 18 };
const d = c as A;
console.log(d);
```
