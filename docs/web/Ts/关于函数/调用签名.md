## 调用签名

> 调用签名（Call Signatures）是接口中用于描述函数类型的一种方式。它们定义了函数的参数列表和返回类型。调用签名使得接口可以作为一种通用的函数类型，用于任何符合调用签名描述的函数。

### 基本语法

> 接口可以包含一个或多个调用签名。GreetFunction 接口定义了一个调用签名，它指定了函数必须接受一个 string 类型的参数并且没有返回值（void）。

```ts
interface GreetFunction {
  (name: string): void;
}

// 实现这个接口的任何函数都必须接受一个 string 参数并返回 void
const greet: GreetFunction = function (name: string): void {
  console.log(`Hello, ${name}!`);
};
```

### 带有可选参数的调用签名

```ts
interface GreetFunction {
  (name: string, optionalGreeting?: string): void;
}

const greet: GreetFunction = function (
  name: string,
  optionalGreeting?: string
): void {
  const greeting = optionalGreeting || "Hello";
  console.log(`${greeting}, ${name}!`);
};
```

### 带有剩余参数的调用签名

```ts
interface GreetFunction {
  (name: string, ...greetings: string[]): void;
}

const greet: GreetFunction = function (
  name: string,
  ...greetings: string[]
): void {
  console.log(`Hello, ${name}!`);
  greetings.forEach((greeting) => console.log(greeting));
};
```

### 带有 this 类型的调用签名

```ts
interface GreetThis {
  (this: { name: string }): string;
}

const greet: GreetThis = function (): string {
  return `Hello, ${this.name}!`;
};

const user = {
  name: "Alice",
  greet: greet,
};

console.log(user.greet.call(user)); // "Hello, Alice!"
```

### 泛型调用签名

```ts
interface GenericGreet {
  <T>(value: T): T;
}

const genericGreet: GenericGreet = function <T>(value: T): T {
  return value;
};
```

### 多个调用签名

> 接口可以有多个调用签名，但它们必须有不同的参数列表。

```ts
interface GreetFunction {
  (name: string): void;
  (name: string, greeting: string): string;
}

const greet: GreetFunction = function (
  name: string,
  greeting?: string
): string | void {
  if (greeting) {
    return `${greeting}, ${name}!`;
  } else {
    console.log(`Hello, ${name}!`);
  }
};
```

### 注意事项

1. 调用签名不能有同名参数。
2. 调用签名的参数类型和返回类型必须完全匹配。
3. 调用签名可以与其他属性或方法共存于同一个接口中。
