## 可选参数

> 可选参数是指在函数调用时不是必须的参数。你可以通过在参数类型后面添加一个问号 ? 来标记一个参数为可选的。这意味着在调用函数时，可以省略这个参数，如果省略了，它将默认为 undefined。

### 可选参数的基本用法

```ts
function greet(name: string, greeting?: string) {
  console.log(greeting ? greeting : "Hello", name);
}

greet("World"); // 输出: Hello World
greet("World", "Hi"); // 输出: Hi World
```

### 在回调函数中的可选参数

> 当你在处理回调函数时，你可能也想参数是可选的。但是，需要特别注意的是，你不能在函数类型中直接在回调的参数中标记为可选，除非你打算在调用回调时不传递该参数。

```ts
// 错误示例
function myForEach(arr: any[], callback: (arg: any, index?: number) => void) {
  for (let i = 0; i < arr.length; i++) {
    callback(arr[i], i);
  }
}
```

> 正确的做法是，确保在调用回调时，提供的所有参数都是必需的，或者在函数体内做好处理可选参数的逻辑。

```ts
// 正确示例
function myForEach(arr: any[], callback: (arg: any, index?: number) => void) {
  for (let i = 0; i < arr.length; i++) {
    // 可能不想提供索引，只调用 callback 与一个参数
    if (callback.length === 1) {
      callback(arr[i]);
    } else {
      callback(arr[i], i);
    }
  }
}
```
