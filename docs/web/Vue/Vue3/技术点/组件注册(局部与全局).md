## 组件注册(局部与全局)

> 组件可以全局注册，使得它们可以在应用的任何地方使用；也可以局部注册，使得它们只在一个组件的模板中可用。

### 全局注册

> 全局注册的组件可以在应用的任何组件模板中使用。在 Vue 3 中，全局注册可以通过应用实例的`.component()`方法实现。

#### 使用方法

> MyComponent 将全局注册，可以在任何组件的模板中通过&lt;my-component-name&gt;使用。

```javascript
import { createApp } from "vue";
import App from "./App.vue";
import MyComponent from "./components/MyComponent.vue";

const app = createApp(App);

app.component("my-component-name", MyComponent);

app.mount("#app");
```

### 局部注册

> 局部注册的组件只在定义它们的组件模板中可用。MyComponent 将在当前组件的模板中局部注册，并可以通过&lt;my-component-name&gt;使用。

```javascript
import MyComponent from "./components/MyComponent.vue";

export default {
  components: {
    "my-component-name": MyComponent,
  },
};
```

#### 特点

1. 依赖明确：局部注册使得组件之间的依赖关系更加明确。
2. Tree-shaking：未被使用的组件不会包含在最终的构建结果中。

### 自动化全局注册

> 对于需要全局注册多个组件的情况，可以创建一个插件来自动化这个过程。

#### 使用插件自动化注册

```javascript
// register.js
import ImageView from "./ImageView.vue";
import Sku from "./Sku.vue";

export default {
  install(app) {
    app.component("XtxImageView", ImageView);
    app.component("XtxSku", Sku);
  },
};

// main.js
import componentPlugin from "./register.js";

const app = createApp(App);
app.use(componentPlugin);
app.mount("#app");
```

#### 特点

1. 批量注册：通过一个插件文件可以注册多个组件，简化代码。
2. 集中管理：所有的全局组件都在一个地方进行注册，方便管理。
