import comp from "D:/Programs/web/blog/docs/.vuepress/.temp/pages/admin/Java/SpringCloud/Dashboard流监控.html.vue"
const data = JSON.parse("{\"path\":\"/admin/Java/SpringCloud/Dashboard%E6%B5%81%E7%9B%91%E6%8E%A7.html\",\"title\":\"\",\"lang\":\"zh-CN\",\"frontmatter\":{},\"headers\":[{\"level\":2,\"title\":\"Dashboard 流监控\",\"slug\":\"dashboard-流监控\",\"link\":\"#dashboard-流监控\",\"children\":[{\"level\":3,\"title\":\"服务端(project-hystrix-provider-8004)\",\"slug\":\"服务端-project-hystrix-provider-8004\",\"link\":\"#服务端-project-hystrix-provider-8004\",\"children\":[]},{\"level\":3,\"title\":\"客户端\",\"slug\":\"客户端\",\"link\":\"#客户端\",\"children\":[]},{\"level\":3,\"title\":\"图例\",\"slug\":\"图例\",\"link\":\"#图例\",\"children\":[]}]}],\"git\":{\"updatedTime\":1726824508000,\"contributors\":[{\"name\":\"OnionTin\",\"email\":\"2775376881@qq.com\",\"commits\":2}]},\"filePathRelative\":\"admin/Java/SpringCloud/Dashboard流监控.md\",\"excerpt\":\"<h2>Dashboard 流监控</h2>\\n<blockquote>\\n<p>首先，服务端需要有 Hystrix 对熔断的支持，有 actuator 监控信息配置，同时还需要添加一个 Servlet 容器，用于监控；其次，客户端需要有 Hystrix-Dashboard 支持</p>\\n</blockquote>\\n<h3>服务端(project-hystrix-provider-8004)</h3>\\n<blockquote>\\n<p>已经有了熔断机制和监控信息配置，只需要添加一个 Servlet 容器，用于监控</p>\\n</blockquote>\\n<div class=\\\"language-java\\\" data-ext=\\\"java\\\" data-title=\\\"java\\\"><pre class=\\\"language-java\\\"><code><span class=\\\"token keyword\\\">package</span> <span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>ths<span class=\\\"token punctuation\\\">.</span>hystrix</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">com<span class=\\\"token punctuation\\\">.</span>netflix<span class=\\\"token punctuation\\\">.</span>hystrix<span class=\\\"token punctuation\\\">.</span>contrib<span class=\\\"token punctuation\\\">.</span>metrics<span class=\\\"token punctuation\\\">.</span>eventstream<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">HystrixMetricsStreamServlet</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>boot<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">SpringApplication</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>boot<span class=\\\"token punctuation\\\">.</span>autoconfigure<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">SpringBootApplication</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>boot<span class=\\\"token punctuation\\\">.</span>web<span class=\\\"token punctuation\\\">.</span>servlet<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">ServletRegistrationBean</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>cloud<span class=\\\"token punctuation\\\">.</span>client<span class=\\\"token punctuation\\\">.</span>circuitbreaker<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">EnableCircuitBreaker</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>cloud<span class=\\\"token punctuation\\\">.</span>client<span class=\\\"token punctuation\\\">.</span>discovery<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">EnableDiscoveryClient</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>cloud<span class=\\\"token punctuation\\\">.</span>netflix<span class=\\\"token punctuation\\\">.</span>eureka<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">EnableEurekaClient</span></span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token import\\\"><span class=\\\"token namespace\\\">org<span class=\\\"token punctuation\\\">.</span>springframework<span class=\\\"token punctuation\\\">.</span>context<span class=\\\"token punctuation\\\">.</span>annotation<span class=\\\"token punctuation\\\">.</span></span><span class=\\\"token class-name\\\">Bean</span></span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"token annotation punctuation\\\">@SpringBootApplication</span>\\n<span class=\\\"token comment\\\">// 启用Eureka客户端,自动将本服务注册到Eureka中</span>\\n<span class=\\\"token annotation punctuation\\\">@EnableEurekaClient</span>\\n<span class=\\\"token comment\\\">// 服务注册与发现(让其他的微服务发现自己,并得到自己的服务信息)</span>\\n<span class=\\\"token annotation punctuation\\\">@EnableDiscoveryClient</span>\\n<span class=\\\"token comment\\\">// 添加Hystrix对熔断的支持</span>\\n<span class=\\\"token annotation punctuation\\\">@EnableCircuitBreaker</span>\\n<span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">class</span> <span class=\\\"token class-name\\\">Hystrix_8001</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token keyword\\\">static</span> <span class=\\\"token keyword\\\">void</span> <span class=\\\"token function\\\">main</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">String</span><span class=\\\"token punctuation\\\">[</span><span class=\\\"token punctuation\\\">]</span> args<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">SpringApplication</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">run</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token class-name\\\">Hystrix_8001</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token keyword\\\">class</span><span class=\\\"token punctuation\\\">,</span> args<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n  <span class=\\\"token comment\\\">// 增加一个Servlet容器，用于监控</span>\\n  <span class=\\\"token annotation punctuation\\\">@Bean</span>\\n  <span class=\\\"token keyword\\\">public</span> <span class=\\\"token class-name\\\">ServletRegistrationBean</span> <span class=\\\"token function\\\">hystrixMetricsStreamServlet</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token class-name\\\">ServletRegistrationBean</span> rB <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">ServletRegistrationBean</span><span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token keyword\\\">new</span> <span class=\\\"token class-name\\\">HystrixMetricsStreamServlet</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// 访问地址 localhost://8004/actuator/hystrix.stream</span>\\n    rB<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">addUrlMappings</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"/actuator/hystrix.stream\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// 设置名称</span>\\n    rB<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setName</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"HystrixMetricsStreamServlet\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">// 设置优先级(启动后就开启)</span>\\n    rB<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">setLoadOnStartup</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token keyword\\\">return</span> rB<span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre></div>\"}")
export { comp, data }
