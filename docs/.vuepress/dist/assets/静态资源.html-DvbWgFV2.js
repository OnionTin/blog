import{_ as e,r as p,o,c,a as n,b as s,d as i,e as a}from"./app-CilA4iky.js";const l={},u=a('<h2 id="静态资源" tabindex="-1"><a class="header-anchor" href="#静态资源"><span>静态资源</span></a></h2><h3 id="静态资源引入" tabindex="-1"><a class="header-anchor" href="#静态资源引入"><span>静态资源引入</span></a></h3><table><thead><tr><th>方式</th><th>文件所在路径</th><th>优先级</th><th>一般如何使用</th></tr></thead><tbody><tr><td>resources</td><td>classpath:/resources</td><td>1</td><td>上传的文件</td></tr><tr><td>static</td><td>classpath:/static</td><td>2</td><td>静态的图片等</td></tr><tr><td>public</td><td>classpath:/public</td><td>3</td><td>公共的 js</td></tr><tr><td>/</td><td>项目根目录</td><td>4</td><td>一般不使用</td></tr></tbody></table><h3 id="webjars-引入" tabindex="-1"><a class="header-anchor" href="#webjars-引入"><span>webjars 引入</span></a></h3>',4),r={href:"https://www.webjars.org/",target:"_blank",rel:"noopener noreferrer"},k=a(`<h3 id="修改静态资源路径" tabindex="-1"><a class="header-anchor" href="#修改静态资源路径"><span>修改静态资源路径</span></a></h3><p>因为是自动装配，所以可以修改配置方式修改静态资源的路径，自己来配。</p><h3 id="源码" tabindex="-1"><a class="header-anchor" href="#源码"><span>源码</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code><span class="token comment">// 源码(WebMvcAutoConfiguration.java)截取</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addResourceHandlers</span><span class="token punctuation">(</span><span class="token class-name">ResourceHandlerRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties<span class="token punctuation">.</span><span class="token function">isAddMappings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    logger<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;Default resource handling disabled&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>registry<span class="token punctuation">.</span><span class="token function">hasMappingForPattern</span><span class="token punctuation">(</span><span class="token string">&quot;/webjars/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">ResourceHandlerRegistration</span> registration <span class="token operator">=</span> registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;/webjars/**&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;classpath:/META-INF/resources/webjars/&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">configureResourceCaching</span><span class="token punctuation">(</span>registration<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">customizeResourceHandlerRegistration</span><span class="token punctuation">(</span>registration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">String</span> staticPathPattern <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>webFluxProperties<span class="token punctuation">.</span><span class="token function">getStaticPathPattern</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>registry<span class="token punctuation">.</span><span class="token function">hasMappingForPattern</span><span class="token punctuation">(</span>staticPathPattern<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">ResourceHandlerRegistration</span> registration <span class="token operator">=</span> registry<span class="token punctuation">.</span><span class="token function">addResourceHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>staticPathPattern<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addResourceLocations</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>resourceProperties<span class="token punctuation">.</span><span class="token function">getStaticLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">configureResourceCaching</span><span class="token punctuation">(</span>registration<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">customizeResourceHandlerRegistration</span><span class="token punctuation">(</span>registration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 源码(WebMvcProperties.java)截取</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebMvcProperties</span> <span class="token punctuation">{</span>
  	<span class="token doc-comment comment">/**
	 * Path pattern used for static resources.
	 */</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span> staticPathPattern <span class="token operator">=</span> <span class="token string">&quot;/**&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Async</span> async <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Async</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Servlet</span> servlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Servlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">View</span> view <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">View</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Contentnegotiation</span> contentnegotiation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Contentnegotiation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Pathmatch</span> pathmatch <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Pathmatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 源码(ResourceProperties.java)截取</span>
<span class="token doc-comment comment">/**
 * Properties used to configure resource handling.
 *
 * <span class="token keyword">@author</span> Phillip Webb
 * <span class="token keyword">@author</span> Brian Clozel
 * <span class="token keyword">@author</span> Dave Syer
 * <span class="token keyword">@author</span> Venil Noronha
 * <span class="token keyword">@author</span> Kristine Jetzke
 * <span class="token keyword">@since</span> 1.1.0
 */</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.resources&quot;</span><span class="token punctuation">,</span> ignoreUnknownFields <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResourceProperties</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">CLASSPATH_RESOURCE_LOCATIONS</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token string">&quot;classpath:/META-INF/resources/&quot;</span><span class="token punctuation">,</span>
			<span class="token string">&quot;classpath:/resources/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;classpath:/static/&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;classpath:/public/&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token doc-comment comment">/**
	 * Locations of static resources. Defaults to classpath:[/META-INF/resources/,
	 * /resources/, /static/, /public/].
	 */</span>
	<span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> staticLocations <span class="token operator">=</span> <span class="token constant">CLASSPATH_RESOURCE_LOCATIONS</span><span class="token punctuation">;</span>
	<span class="token doc-comment comment">/**
	 * Whether to enable default resource handling.
	 */</span>
	<span class="token keyword">private</span> <span class="token keyword">boolean</span> addMappings <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Chain</span> chain <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Chain</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Cache</span> cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Cache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getStaticLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>staticLocations<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function d(v,m){const t=p("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[n("a",r,[s("webjars 官网"),i(t)]),s("以依赖的方式引入外部资源，引入的资源在 jar 包内的 classpath:/META-INF/resources 路径下，但是这种方式很少使用")]),k])}const b=e(l,[["render",d],["__file","静态资源.html.vue"]]),w=JSON.parse('{"path":"/admin/Java/SpringBoot/web%E9%9B%86%E6%88%90/%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"静态资源","slug":"静态资源","link":"#静态资源","children":[{"level":3,"title":"静态资源引入","slug":"静态资源引入","link":"#静态资源引入","children":[]},{"level":3,"title":"webjars 引入","slug":"webjars-引入","link":"#webjars-引入","children":[]},{"level":3,"title":"修改静态资源路径","slug":"修改静态资源路径","link":"#修改静态资源路径","children":[]},{"level":3,"title":"源码","slug":"源码","link":"#源码","children":[]}]}],"git":{"updatedTime":1725354999000,"contributors":[{"name":"OnionTin","email":"2775376881@qq.com","commits":1}]},"filePathRelative":"admin/Java/SpringBoot/web集成/静态资源.md","excerpt":"<h2>静态资源</h2>\\n<h3>静态资源引入</h3>\\n<table>\\n<thead>\\n<tr>\\n<th>方式</th>\\n<th>文件所在路径</th>\\n<th>优先级</th>\\n<th>一般如何使用</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td>resources</td>\\n<td>classpath:/resources</td>\\n<td>1</td>\\n<td>上传的文件</td>\\n</tr>\\n<tr>\\n<td>static</td>\\n<td>classpath:/static</td>\\n<td>2</td>\\n<td>静态的图片等</td>\\n</tr>\\n<tr>\\n<td>public</td>\\n<td>classpath:/public</td>\\n<td>3</td>\\n<td>公共的 js</td>\\n</tr>\\n<tr>\\n<td>/</td>\\n<td>项目根目录</td>\\n<td>4</td>\\n<td>一般不使用</td>\\n</tr>\\n</tbody>\\n</table>"}');export{b as comp,w as data};
